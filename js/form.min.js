const searchLink=document.querySelector(".button_search"),searchForm=document.querySelector(".search_form"),inputDate1=document.querySelector("#arrival"),inputDate2=document.querySelector("#departure"),inputQuantity1=document.querySelector("#adults"),inputQuantity2=document.querySelector("#children"),formContainer=document.querySelector(".form_container"),mapImg=document.querySelector(".map_img"),mapIframe=document.querySelector(".map_iframe");let isStorageSupport=!0,storage={};document.addEventListener("DOMContentLoaded",function(){mapImg.classList.add("map_hidden"),mapIframe.classList.remove("map_hidden")});try{storage.date_of_arrival=localStorage.getItem("date_of_arrival"),storage.date_of_departure=localStorage.getItem("date_of_departure"),storage.adults=localStorage.getItem("adults"),storage.children=localStorage.getItem("children"),console.log(storage)}catch(e){isStorageSupport=!1}let getStorage=function(e){storage.arg=localStorage.getItem("arg")};searchLink.addEventListener("click",function(e){e.preventDefault(),searchForm.classList.toggle("form_show"),formContainer.classList.remove("form_error"),storage&&(inputDate1.value=storage.date_of_arrival,inputDate2.value=storage.date_of_departure,inputQuantity1.value=storage.adults,inputQuantity2.value=storage.children)}),searchForm.addEventListener("submit",function(e){inputDate1.value&&inputDate2.value&&inputQuantity1.value&&inputQuantity2.value?isStorageSupport&&(localStorage.setItem("date_of_arrival",inputDate1.value),localStorage.setItem("date_of_departure",inputDate2.value),localStorage.setItem("adults",inputQuantity1.value),localStorage.setItem("children",inputQuantity2.value)):(e.preventDefault(),formContainer.classList.remove("form_error"),searchForm.offsetWidth=searchForm.offsetWidth,formContainer.classList.add("form_error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&searchForm.classList.contains("form_show")&&(e.preventDefault(),searchForm.classList.remove("form_show"),searchForm.classList.remove("form_error"))});